<div class="modal-overlay" (click)="onOverlayClick()">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2 class="modal-title">{{ title }}</h2>
    </div>
    <div class="modal-content">
      <p class="modal-message" *ngFor="let line of messageLines">{{ line }}</p>
    </div>

    <div class="modal-footer">
      <button
        *ngFor="let button of buttons"
        [class]="getButtonClass(button)"
        (click)="onButtonClick(button)"
        [disabled]="isLoading"
      >
        <span *ngIf="!isLoading || button.action === 'cancel'">{{ button.text }}</span>
        <span *ngIf="isLoading && button.action === 'confirm'" class="loading-spinner">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2" opacity="0.25"/>
            <path d="M10 2C5.58172 2 2 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Processing...
        </span>
      </button>
    </div>
  </div>
</div>
