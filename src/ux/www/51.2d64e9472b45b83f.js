"use strict";(self.webpackChunkrest_app_generator=self.webpackChunkrest_app_generator||[]).push([[51],{5051(T,x,a){a.d(x,{USER_ROUTES:()=>U});var f=a(2200),u=a(2629),C=a(8253),P=a(8401),O=a(3955),t=a(3664),c=a(2615),m=a(537),j=a(3077),b=a(4796),M=a(6354),p=a(8639),k=a(9330),_=a(1921);let S=(()=>{var n;class s{constructor(e,o){this.http=e,this.mockApiService=o}getUserRoles(){return this.mockApiService.get(`${p.i3.BASE_URL}${p.Sn.USER.PROFILE}/roles`,"/assets/mock/user-roles-response.json").pipe((0,M.T)(o=>o.data||o))}getUserProfile(){return this.http.get(`${p.i3.BASE_URL}${p.Sn.USER.PROFILE}`)}updateUserProfile(e){return this.http.put(`${p.i3.BASE_URL}${p.Sn.USER.UPDATE_PROFILE}`,e)}}return(n=s).\u0275fac=function(e){return new(e||n)(c.KVO(k.Qq),c.KVO(_.E))},n.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();var v=a(8397);function y(n,s){if(1&n){const r=t.RV6();t.j41(0,"app-confirmation-modal",31),t.bIt("confirm",function(){c.eBV(r);const o=t.XpG();return c.Njj(o.confirmLogout())})("cancel",function(){c.eBV(r);const o=t.XpG();return c.Njj(o.cancelLogout())}),t.k0s()}if(2&n){const r=t.XpG();t.Y8G("title",r.logoutModalConfig.title)("message",r.logoutModalConfig.message)("buttons",r.logoutModalConfig.buttons)("isLoading",r.isLoggingOut)}}function w(n,s){if(1&n){const r=t.RV6();t.j41(0,"app-search-sort",32),t.bIt("searchSortChange",function(o){c.eBV(r);const i=t.XpG();return c.Njj(i.onSearchSortChange(o))}),t.k0s()}if(2&n){const r=t.XpG();t.Y8G("searchConfig",r.searchConfig)("sortOptions",r.sortOptions)}}function L(n,s){1&n&&(t.j41(0,"div",33),t.nrm(1,"div",34),t.j41(2,"p"),t.EFF(3,"Loading projects..."),t.k0s()())}function R(n,s){1&n&&(t.j41(0,"div",35)(1,"p"),t.EFF(2,"No projects found. Create your first project to get started."),t.k0s()())}function F(n,s){1&n&&(t.j41(0,"div",35)(1,"p"),t.EFF(2,"No projects match your search criteria."),t.k0s()())}function D(n,s){if(1&n){const r=t.RV6();t.j41(0,"div",38)(1,"div",39)(2,"div",40)(3,"span",41),t.EFF(4),t.k0s(),t.j41(5,"span",42),t.EFF(6),t.k0s()()(),t.j41(7,"div",43)(8,"h3"),t.EFF(9),t.k0s(),t.j41(10,"p",44),t.EFF(11),t.k0s()(),t.j41(12,"div",45)(13,"button",46),t.bIt("click",function(){const o=c.eBV(r).$implicit,i=t.XpG(2);return c.Njj(i.openProject(o))}),t.EFF(14,"Open"),t.k0s(),t.j41(15,"div",47)(16,"button",48),t.nrm(17,"i",49),t.k0s(),t.j41(18,"button",50),t.nrm(19,"i",51),t.k0s()()()()}if(2&n){const r=s.$implicit,e=t.XpG(2);t.R7$(4),t.JRh(r.id),t.R7$(2),t.JRh(e.formatDate(r.createdAt)),t.R7$(3),t.JRh(r.name),t.R7$(2),t.JRh(r.description)}}function E(n,s){if(1&n&&(t.j41(0,"div",36),t.DNE(1,D,20,4,"div",37),t.k0s()),2&n){const r=t.XpG();t.R7$(),t.Y8G("ngForOf",r.filteredProjects)}}const U=[{path:"",canActivate:[(()=>{var n;class s{constructor(e,o,i){this.authService=e,this.router=o,this.toastService=i}canActivate(e,o){const i=this.authService.getAccessToken();return i?this.isTokenValid(i)?!!this.authService.currentUserValue||(this.toastService.error("Please login to access this page"),this.router.createUrlTree(["/"],{queryParams:{returnUrl:o.url}})):(this.authService.clearExpiredSession(),this.toastService.error("Your session has expired. Please login again."),this.router.createUrlTree(["/"],{queryParams:{returnUrl:o.url}})):(this.toastService.error("Please login to access this page"),this.router.createUrlTree(["/"],{queryParams:{returnUrl:o.url}}))}isTokenValid(e){try{const i=1e3*JSON.parse(atob(e.split(".")[1])).exp;return Date.now()<i}catch(o){return console.error("Invalid token format:",o),!1}}}return(n=s).\u0275fac=function(e){return new(e||n)(c.KVO(b.u),c.KVO(m.Ix),c.KVO(v.f))},n.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})()],children:[{path:"dashboard",component:(()=>{var n;class s{constructor(e,o,i,d,g,l){this.router=e,this.localStorageService=o,this.authService=i,this.userService=d,this.toastService=g,this.mockApiService=l,this.userEmail="",this.userName="",this.userRoles=[],this.userPermissions=[],this.isLoadingRoles=!1,this.showLogoutConfirmation=!1,this.isLoggingOut=!1,this.isSidebarOpen=!1,this.projects=[],this.filteredProjects=[],this.isLoadingProjects=!1,this.activeSection="projects",this.navItems=[{icon:"folder",label:"Projects",value:"projects"},{icon:"person",label:"Profile",value:"profile"},{icon:"settings",label:"Settings",value:"settings"}],this.searchConfig={placeholder:"Search projects by name or description...",properties:["name","description","id"]},this.sortOptions=[{label:"Name (A-Z)",property:"name",direction:"asc"},{label:"Name (Z-A)",property:"name",direction:"desc"},{label:"Created Date (Newest)",property:"createdAt",direction:"desc"},{label:"Created Date (Oldest)",property:"createdAt",direction:"asc"},{label:"Last Modified (Newest)",property:"updatedAt",direction:"desc"},{label:"Last Modified (Oldest)",property:"updatedAt",direction:"asc"}],this.logoutModalConfig={title:"Logout Confirmation",message:["Are you sure you want to logout?","You will need to login again to access your dashboard."],buttons:[{text:"Cancel",type:"cancel",action:"cancel"},{text:"Logout",type:"danger",action:"confirm"}]}}onPageShow(e){(e.persisted||!this.authService.getAccessToken())&&this.checkAuthentication()}onPopState(e){this.checkAuthentication()}ngOnInit(){this.checkAuthentication();const e=this.authService.getUserData();e&&(this.userEmail=e.email,this.userName=e.name||"User"),this.loadUserRoles(),this.loadProjects()}checkAuthentication(){(!this.authService.getAccessToken()||!this.authService.currentUserValue)&&this.router.navigate(["/"],{replaceUrl:!0})}loadUserRoles(){this.isLoadingRoles=!0,this.userService.getUserRoles().subscribe({next:e=>{this.isLoadingRoles=!1,this.userRoles=e.roles||[],this.userPermissions=e.permissions||[]},error:()=>{this.isLoadingRoles=!1,this.toastService.error("Failed to load user roles")}})}hasRole(e){return this.userRoles.includes(e)}hasPermission(e){return this.userPermissions.includes(e)}logout(){this.showLogoutConfirmation=!0}confirmLogout(){this.isLoggingOut=!0,this.authService.logout().subscribe({next:()=>{this.isLoggingOut=!1,this.showLogoutConfirmation=!1,this.toastService.success("Logged out successfully")},error:()=>{this.isLoggingOut=!1,this.showLogoutConfirmation=!1}})}cancelLogout(){this.showLogoutConfirmation=!1}navigateToAccount(){}navigateToPlan(){}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}navigateToSection(e){this.activeSection=e,this.closeSidebar()}loadProjects(){this.isLoadingProjects=!0,this.mockApiService.get("","assets/mock/projects-response.json").subscribe({next:e=>{this.isLoadingProjects=!1,this.projects=e.data.projects||[],this.filteredProjects=[...this.projects]},error:()=>{this.isLoadingProjects=!1,this.toastService.error("Failed to load projects")}})}onSearchSortChange(e){let o=[...this.projects];if(e.searchTerm){const i=e.searchTerm.toLowerCase();o=o.filter(d=>this.searchConfig.properties.some(g=>{const l=d[g];return l&&l.toString().toLowerCase().includes(i)}))}e.sortOption&&o.sort((i,d)=>{const g=i[e.sortOption.property],l=d[e.sortOption.property];let h=0;return g<l&&(h=-1),g>l&&(h=1),"asc"===e.sortOption.direction?h:-h}),this.filteredProjects=o}formatDate(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")}openProject(e){this.router.navigate(["/project-generation"],{queryParams:{projectId:e.id}})}createNewProject(){this.router.navigate(["/project-generation"])}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(m.Ix),t.rXU(j.s),t.rXU(b.u),t.rXU(S),t.rXU(v.f),t.rXU(_.E))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-dashboard"]],hostBindings:function(e,o){1&e&&t.bIt("pageshow",function(d){return o.onPageShow(d)},t.tSv)("popstate",function(d){return o.onPopState(d)},t.tSv)},decls:43,vars:13,consts:[[3,"title","message","buttons","isLoading","confirm","cancel",4,"ngIf"],[1,"dashboard-container"],[1,"mobile-header"],[1,"container"],[1,"header-content"],["aria-label","Toggle menu",1,"menu-toggle",3,"click"],[1,"bi","bi-list"],[1,"logo"],[1,"logo-text"],[1,"spacer"],[1,"sidebar-overlay",3,"click"],[1,"sidebar"],[1,"sidebar-header"],[1,"bi","bi-code-slash","logo-icon"],[1,"user-info"],[1,"welcome"],[1,"email"],[3,"itemClick","navItems","activeItem"],[1,"sidebar-nav","sidebar-nav-footer"],[1,"nav-item",3,"click"],[1,"nav-icon"],[1,"nav-label"],[1,"main-content"],[1,"content-header"],[1,"action-buttons"],[1,"btn","btn-primary",3,"click"],[3,"searchConfig","sortOptions","searchSortChange",4,"ngIf"],[1,"content-body"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","projects-grid",4,"ngIf"],[3,"confirm","cancel","title","message","buttons","isLoading"],[3,"searchSortChange","searchConfig","sortOptions"],[1,"loading-state"],[1,"spinner"],[1,"empty-state"],[1,"projects-grid"],["class","project-card",4,"ngFor","ngForOf"],[1,"project-card"],[1,"project-header"],[1,"project-meta"],[1,"project-status"],[1,"project-date"],[1,"project-title"],[1,"project-description"],[1,"project-actions"],[1,"btn-open",3,"click"],[1,"action-icons"],["aria-label","Archive",1,"icon-btn"],[1,"bi","bi-archive"],["aria-label","Add",1,"icon-btn"],[1,"bi","bi-plus-lg"]],template:function(e,o){1&e&&(t.DNE(0,y,1,4,"app-confirmation-modal",0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.bIt("click",function(){return o.toggleSidebar()}),t.nrm(6,"i",6),t.k0s(),t.j41(7,"div",7)(8,"span",8),t.EFF(9,"Bootify"),t.k0s()(),t.nrm(10,"div",9),t.k0s()()(),t.j41(11,"div",10),t.bIt("click",function(){return o.closeSidebar()}),t.k0s(),t.j41(12,"aside",11)(13,"div",12)(14,"div",7)(15,"span",8),t.EFF(16,"Bootify"),t.k0s(),t.nrm(17,"i",13),t.k0s(),t.j41(18,"div",14)(19,"p",15),t.EFF(20,"Welcome,"),t.k0s(),t.j41(21,"p",16),t.EFF(22),t.k0s()()(),t.j41(23,"app-sidenav",17),t.bIt("itemClick",function(d){return o.navigateToSection(d)}),t.k0s(),t.j41(24,"nav",18)(25,"button",19),t.bIt("click",function(){return o.logout(),o.closeSidebar()}),t.j41(26,"mat-icon",20),t.EFF(27,"logout"),t.k0s(),t.j41(28,"span",21),t.EFF(29,"Logout"),t.k0s()()()(),t.j41(30,"main",22)(31,"div",23)(32,"h1"),t.EFF(33,"Project Overview"),t.k0s(),t.j41(34,"div",24)(35,"button",25),t.bIt("click",function(){return o.createNewProject()}),t.EFF(36,"Create new project"),t.k0s()(),t.DNE(37,w,1,2,"app-search-sort",26),t.k0s(),t.j41(38,"div",27),t.DNE(39,L,4,0,"div",28)(40,R,3,0,"div",29)(41,F,3,0,"div",29)(42,E,2,1,"div",30),t.k0s()()()),2&e&&(t.Y8G("ngIf",o.showLogoutConfirmation),t.R7$(11),t.AVh("show",o.isSidebarOpen),t.R7$(),t.AVh("open",o.isSidebarOpen),t.R7$(10),t.JRh(o.userEmail),t.R7$(),t.Y8G("navItems",o.navItems)("activeItem",o.activeSection),t.R7$(14),t.Y8G("ngIf",!o.isLoadingProjects&&o.projects.length>0),t.R7$(2),t.Y8G("ngIf",o.isLoadingProjects),t.R7$(),t.Y8G("ngIf",!o.isLoadingProjects&&0===o.projects.length),t.R7$(),t.Y8G("ngIf",!o.isLoadingProjects&&o.projects.length>0&&0===o.filteredProjects.length),t.R7$(),t.Y8G("ngIf",!o.isLoadingProjects&&o.filteredProjects.length>0))},dependencies:[f.MD,f.Sq,f.bT,u.m_,u.An,C.M,P.g,O.g],styles:[".dashboard-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f5f5f5}.sidebar[_ngcontent-%COMP%]{width:240px;background-color:#fff;border-right:1px solid #e5e7eb;display:flex;flex-direction:column;position:fixed;height:100vh;left:0;top:0}.sidebar-header[_ngcontent-%COMP%]{padding:24px 20px;border-bottom:1px solid #e5e7eb}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:20px}.logo-text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1f2937}.logo-icon[_ngcontent-%COMP%]{color:#1f2937}.user-info[_ngcontent-%COMP%]{margin-top:16px}.welcome[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0;font-style:italic}.email[_ngcontent-%COMP%]{font-size:13px;color:#1f2937;margin:4px 0 0;word-break:break-word}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:8px 0}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 20px;color:#6b7280;text-decoration:none;font-size:15px;transition:all .2s ease;cursor:pointer;background:none;border:none;width:100%;text-align:left;font-family:inherit}.nav-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#1f2937}.nav-item.active[_ngcontent-%COMP%]{background-color:#8b9fa6;color:#fff}.nav-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:240px;display:flex;flex-direction:column;height:100vh;overflow:hidden}.content-header[_ngcontent-%COMP%]{padding:40px 48px 0;background-color:#f5f5f5;position:relative;z-index:50;flex-shrink:0}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:#4b5563;margin:0 0 24px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px}.content-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:0 48px;background-color:#f5f5f5}.btn[_ngcontent-%COMP%]{padding:12px 28px;border:none;border-radius:24px;font-size:15px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#dc6454;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#c55544}.btn-secondary[_ngcontent-%COMP%]{background-color:#8b9fa6;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#7a8e95}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;color:#6b7280}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top-color:#8b9fa6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;color:#6b7280;font-size:16px}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:24px;padding-bottom:88px}.project-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;padding:24px;background-color:#fff;transition:box-shadow .2s ease,transform .2s ease}.project-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.project-header[_ngcontent-%COMP%]{margin-bottom:16px}.project-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.project-status[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-weight:600;letter-spacing:.5px}.project-date[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af}.project-title[_ngcontent-%COMP%]{margin-bottom:24px;min-height:80px}.project-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1f2937;margin:0 0 8px}.project-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin:0;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.project-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-open[_ngcontent-%COMP%]{background-color:#8b9fa6;color:#fff;border:none;padding:10px 28px;border-radius:20px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.btn-open[_ngcontent-%COMP%]:hover{background-color:#7a8e95}.action-icons[_ngcontent-%COMP%]{display:flex;gap:12px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#9ca3af;cursor:pointer;padding:4px;transition:color .2s ease;display:flex;align-items:center;justify-content:center}.icon-btn[_ngcontent-%COMP%]:hover{color:#6b7280}.mobile-header[_ngcontent-%COMP%], .sidebar-overlay[_ngcontent-%COMP%], .menu-toggle[_ngcontent-%COMP%]{display:none}@media (max-width: 1024px){.mobile-header[_ngcontent-%COMP%]{display:flex;background-color:#f8f9fa;border-bottom:1px solid #e5e7eb;position:fixed;top:0;left:0;right:0;z-index:100;padding:16px 0}.mobile-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 16px;width:100%}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.menu-toggle[_ngcontent-%COMP%]{display:flex;background:none;border:none;padding:8px;cursor:pointer;color:#1f2937;align-items:center;justify-content:center;border-radius:8px;transition:background-color .2s ease}.menu-toggle[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.menu-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.mobile-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin:0;position:absolute;left:50%;transform:translate(-50%)}.mobile-header[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.mobile-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{width:40px}.sidebar-overlay[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:998;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.sidebar-overlay.show[_ngcontent-%COMP%]{display:block}.sidebar[_ngcontent-%COMP%]{position:fixed;transform:translate(-100%);transition:transform .3s ease;z-index:999;top:0;left:0;height:100vh;width:280px}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}.main-content[_ngcontent-%COMP%]{margin-left:0;padding-top:56px}.content-header[_ngcontent-%COMP%]{padding:24px 16px 0;z-index:50}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.content-body[_ngcontent-%COMP%]{padding:0 16px 32px}.projects-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}.projects-grid[_ngcontent-%COMP%]{gap:16px}}@media (max-width: 480px){.main-content[_ngcontent-%COMP%]{padding-top:56px}.content-header[_ngcontent-%COMP%]{padding:20px 16px 0}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;margin-bottom:16px}.content-body[_ngcontent-%COMP%]{padding:0 16px 24px}.projects-grid[_ngcontent-%COMP%]{gap:12px}.project-card[_ngcontent-%COMP%]{padding:20px}}"]}),s})()},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}]}}]);